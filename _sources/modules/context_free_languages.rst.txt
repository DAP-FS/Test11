=======================
Intuitive Introduction
=======================

Start here! This section builds **intuition first**, before diving into formal definitions.  
Keep your mind open â€” imagine, visualize, and connect.

----

What is Context-Free?
=====================

**Real-World Analogy: HTML Tags**

Think about nested HTML structure:

.. code-block:: html

   <html>
     <body>
       <p>Hello <strong>World</strong></p>
     </body>
   </html>

Every opening ``<tag>`` has a matching closing ``</tag>``.

.. admonition:: âš ï¸ Key Insight
   :class: important

   A **finite automaton (DFA/NFA)** canâ€™t verify this structureâ€”it lacks *memory*.  
   Matching nested tags requires **unbounded memory**, which **only a stack** can provide.

A **Context-Free Grammar (CFG)** is precisely this:  
a **rule-based system** that can *generate and verify* hierarchical, nested patterns.

----

The Problem: Why CFGs Matter
=============================

**Example: Balanced Parentheses**

.. list-table::
   :header-rows: 1
   :widths: 25 10 65

   * - String
     - Valid?
     - Explanation
   * - ``()``
     - âœ“
     - Matched pair
   * - ``(())``
     - âœ“
     - Nested pair
   * - ``(()())``
     - âœ“
     - Mixed nesting
   * - ``(()``
     - âœ—
     - Unclosed parenthesis
   * - ``())``
     - âœ—
     - Extra closing parenthesis

----

Can a DFA verify this?
----------------------

**No.**

A DFA cannot decide this language.

.. admonition:: ğŸ§  Intuition
   :class: hint

   A DFA has *finite memory*.  
   Balanced parentheses need remembering *an arbitrary number of opens* until theyâ€™re closed later â€” requiring a **stack**, not fixed states.

---



Recipe Analogy: How CFGs Work
==============================

Think of a CFG as a **recipe** for generating valid sentences.

.. code-block:: text

   Sentence â†’ Subject Verb Object
   Subject  â†’ "The" Noun
   Noun     â†’ "cat" | "dog" | "bird"
   Verb     â†’ "chased" | "saw"
   Object   â†’ "the" Noun

Start with the top rule and **substitute step by step**:

.. code-block:: text

   Sentence
   âŸ¹ Subject Verb Object
   âŸ¹ "The" Noun Verb Object
   âŸ¹ "The" "cat" Verb Object
   âŸ¹ "The" "cat" "chased" Object
   âŸ¹ "The" "cat" "chased" "the" "bird"

âœ… **Result:** â€œThe cat chased the birdâ€

.. note::
   Each arrow **âŸ¹** is a **derivation step** â€” you replace one variable with its rule.

---

Regular vs. Context-Free
=========================

.. list-table:: Quick Comparison
   :header-rows: 1
   :widths: 25 35 40

   * - **Feature**
     - **Regular Language**
     - **Context-Free Language**
   * - Memory
     - Finite (no stack)
     - Unbounded (stack)
   * - Tool
     - DFA / NFA
     - PDA
   * - Can recognize
     - ``a*b*``
     - ``aâ¿bâ¿``
   * - Handles nesting?
     - âœ— No
     - âœ“ Yes

.. tip::

   Every **CFG** has an equivalent **Pushdown Automaton (PDA)**.

.. graphviz::

   digraph CFG_PDA {
       rankdir=LR;
       node [shape=box, style="rounded,filled", fillcolor="#E8F4F8"];
       CFG [label="Context-Free Grammar"];
       PDA [label="Pushdown Automaton"];
       CFL [label="Context-Free Language"];
       CFG -> CFL;
       CFL -> PDA [label="Equivalent Representation"];
   }

---

Why â€œContext-Freeâ€?
===================

.. container:: shadow-sm p-3 bg-light rounded

   A rule applies **regardless of context** â€” thatâ€™s why itâ€™s *context-free*.

.. code-block:: text

   Noun â†’ "cat"    â† applies anywhere â€œNounâ€ appears.

Compare with context-sensitive rules:

.. code-block:: text

   a Noun b â†’ a "cat" b   â† applies only between â€œaâ€ and â€œbâ€

---

Real-World Applications
=======================

**1. Programming Languages**

Every compiler (C, Java, Python) uses CFGs for parsing.

**2. HTML/XML Parsing**

Browsers verify nesting of tags using CFG-like structures.

**3. Mathematical Expressions**

.. code-block:: text

   2 + 3 * (4 + 5)   âœ“ valid
   2 + * 3 (4 + 5)   âœ— invalid

**4. Natural Language**

Grammar rules model sentence structure.

---

Quick Check
===========

**Q1.** Can a DFA verify ``(())``?

.. admonition:: ğŸ’¡ Solution
   :class: toggle

   **No.** Requires unbounded memory (stack).

**Q2.** What can CFGs do that DFAs canâ€™t?

.. admonition:: ğŸ’¡ Solution
   :class: toggle

   Describe **recursive** and **nested** patterns â€” vital for programming languages.

---

Summary
=======

âœ… CFGs describe **recursive, nested** languages  

âœ… They use **rule substitution** (derivations)  

âœ… **More powerful than** DFA/NFA  

âœ… **Less powerful than** Turing Machines  

âœ… Essential for **parsers, compilers, and linguistics**

----

====================
Formal Definitions
====================

Definition 2.1 â€” Context-Free Grammar
=====================================

A **Context-Free Grammar (CFG)** is a 4-tuple:

.. math::

   G = (V, \Sigma, R, S)

.. list-table::
   :header-rows: 1
   :widths: 15 60 25

   * - **Symbol**
     - **Meaning**
     - **Example**
   * - :math:`V`
     - Variables (non-terminals)
     - :math:`S, A`
   * - :math:`\Sigma`
     - Terminals (alphabet)
     - :math:`a, b, (, )`
   * - :math:`R`
     - Production rules
     - :math:`S \to aSb \mid \epsilon`
   * - :math:`S`
     - Start symbol
     - :math:`S \in V`

.. important::

   - Variables â†’ UPPERCASE (e.g. ``S``, ``A``)  
   - Terminals â†’ lowercase or symbols (e.g. ``a``, ``(``)  
   - Multiple rules allowed: ``A â†’ wâ‚ | wâ‚‚ | wâ‚ƒ``

---

Example CFG â€” Balanced Parentheses
==================================

.. code-block:: text

   G = ({S}, {(,)}, R, S)
   where R = {S â†’ Îµ | (S) | SS}

**Rule meanings:**

- :math:`S â†’ Îµ` : Empty string is valid  
- :math:`S â†’ (S)` : Wrap balanced string in parentheses  
- :math:`S â†’ SS` : Concatenate two balanced strings

.. admonition:: âœ… Try it yourself
   :class: hint

   Derive ``(())()`` using the above grammar.

---

**Hidden Answer (click to reveal):**

.. admonition:: ğŸ’¡ Solution
   :class: toggle

   1. ``S âŸ¹ SS``  

   
   2. First ``S âŸ¹ (S) âŸ¹ (())``  
   
   3. Second ``S âŸ¹ (S) âŸ¹ ()``  
   
   âœ… Combined: ``(())()``

----
